Actions Code Snippets View the python code that is generated when you create the actions for the content definition.
Create The python code generated when creating a description action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoCreate generated by Altair One content definition compiler.# ToDoCreatePre [optional] precheck and setup resources required for action.# ToDoCreateRun business logic of action and set outputs.# ToDoCreatePost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoCreateInputsfrom altair.todo import ToDoCreateOutputsfrom altair.todo.
ToDo import ToDoasync def ToDoCreateRun(inputs: ToDoCreateInputs, outputs: ToDoCreateOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoCreateInputs): action inputs outputs (ToDoCreateOutputs): action outputs context (ActionContext): action context ''' # Creating the todo instance todo = ToDo(session=context.session) # Update the attributes todo.description = inputs.description todo.category = inputs.category todo.status = 'Pending' await context.session.save() # Emit the ToDo create event await todo.emitToDoCreatedEvent(todoRef=todo) # Assign the todo object to the output content outputs.content = todo GetAll The python code generated when creating a status action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoGetAll generated by Altair One content definition compiler.# ToDoGetAllPre [optional] precheck and setup resources required for action.# ToDoGetAllRun business logic of action and set outputs.# ToDoGetAllPost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoGetAllInputsfrom altair.todo import ToDoGetAllOutputsfrom altair.system import Searchasync def ToDoGetAllRun(inputs: ToDoGetAllInputs, outputs: ToDoGetAllOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoGetAllInputs): action inputs outputs (ToDoGetAllOutputs): action outputs context (ActionContext): action context ''' result = await Search.search(session=context.session, filter= 'system.contentType in ["altair.todo.
ToDo"]') outputs.todos = result.entities Delete The python code generated when creating a category action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoDelete generated by Altair One content definition compiler.# ToDoDeletePre [optional] precheck and setup resources required for action.# ToDoDeleteRun business logic of action and set outputs.# ToDoDeletePost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoDeleteInputsfrom altair.todo import ToDoDeleteOutputsasync def ToDoDeleteRun(inputs: ToDoDeleteInputs, outputs: ToDoDeleteOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoDeleteInputs): action inputs outputs (ToDoDeleteOutputs): action outputs context (ActionContext): action context ''' await inputs.thisContent.delete() await inputs.thisContent.emitToDoDeletedEvent(todoId=inputs.thisContent.id) outputs.status = True MarkAsCompleted The python code generated when creating a MarkAsCompleted action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoMarkAsComplete generated by Altair One content definition compiler.# ToDoMarkAsCompletePre [optional] precheck and setup resources required for action.# ToDoMarkAsCompleteRun business logic of action and set outputs.# ToDoMarkAsCompletePost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoMarkAsCompleteInputsfrom altair.todo import ToDoMarkAsCompleteOutputsasync def ToDoMarkAsCompleteRun(inputs: ToDoMarkAsCompleteInputs, outputs: ToDoMarkAsCompleteOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoMarkAsCompleteInputs): action inputs outputs (ToDoMarkAsCompleteOutputs): action outputs context (ActionContext): action context ''' inputs.thisContent.status = 'Completed' outputs.status = True await inputs.thisContent.emitToDoModifiedEvent(todoRef=inputs.thisContent) MarkAsPending The python code generated when creating a MarkAsPending action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoMarkAsPending generated by Altair One content definition compiler.# ToDoMarkAsPendingPre [optional] precheck and setup resources required for action.# ToDoMarkAsPendingRun business logic of action and set outputs.# ToDoMarkAsPendingPost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoMarkAsPendingInputsfrom altair.todo import ToDoMarkAsPendingOutputsasync def ToDoMarkAsPendingRun(inputs: ToDoMarkAsPendingInputs, outputs: ToDoMarkAsPendingOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoMarkAsPendingInputs): action inputs outputs (ToDoMarkAsPendingOutputs): action outputs context (ActionContext): action context ''' inputs.thisContent.status = 'Pending' outputs.status = True await inputs.thisContent.emitToDoModifiedEvent(todoRef=inputs.thisContent) GetPending The python code generated when creating a GetPending action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoGetPending generated by Altair One content definition compiler.# ToDoGetPendingPre [optional] precheck and setup resources required for action.# ToDoGetPendingRun business logic of action and set outputs.# ToDoGetPendingPost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoGetPendingInputsfrom altair.todo import ToDoGetPendingOutputsfrom altair.system import Searchasync def ToDoGetPendingRun(inputs: ToDoGetPendingInputs, outputs: ToDoGetPendingOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoGetPendingInputs): action inputs outputs (ToDoGetPendingOutputs): action outputs context (ActionContext): action context ''' result = await Search.search(session=context.session, filter= 'status like "Pending" && system.contentType in ["altair.todo.
ToDo"]' ) outputs.pendingToDos = result.entities GetCompleted The python code generated when creating a GetPending action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoGetCompleted generated by Altair One content definition compiler.# ToDoGetCompletedPre [optional] precheck and setup resources required for action.# ToDoGetCompletedRun business logic of action and set outputs.# ToDoGetCompletedPost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoGetCompletedInputsfrom altair.todo import ToDoGetCompletedOutputsfrom altair.system import Searchasync def ToDoGetCompletedRun(inputs: ToDoGetCompletedInputs, outputs: ToDoGetCompletedOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoGetCompletedInputs): action inputs outputs (ToDoGetCompletedOutputs): action outputs context (ActionContext): action context ''' result = await Search.search(session=context.session, filter= 'status like "Completed" && system.contentType in ["altair.todo.
ToDo"]' ) outputs.completedToDos = result.entities GetNotes The python code generated when creating a GetNotes action is as follows:# --------------------------------------------------------------------------------# stubs for action ToDoGetNotes generated by Altair One content definition compiler.# ToDoGetNotesPre [optional] precheck and setup resources required for action.# ToDoGetNotesRun business logic of action and set outputs.# ToDoGetNotesPost [optional] postchecks and free resources aquired by action.# *** DO NOT MODIFY STUB DEFINITIONS ***.# --------------------------------------------------------------------------------#Created from PythonActionSrcTemplatefrom altair.system import ActionContextfrom altair.todo import ToDoGetNotesInputsfrom altair.todo import ToDoGetNotesOutputsasync def ToDoGetNotesRun(inputs: ToDoGetNotesInputs, outputs: ToDoGetNotesOutputs, context: ActionContext): '''Implement business logic of action and set outputs Args: inputs (ToDoGetNotesInputs): action inputs outputs (ToDoGetNotesOutputs): action outputs context (ActionContext): action context ''' notes = await inputs.thisContent.getNotes() outputs.notes = notes pass